{"version":3,"file":"src_app_features_catalog_pages_product-listing_product-listing_module_ts.479749cd4749c09f.js","mappings":"0TAIEA,+BAEEA,sDANJA,iBAIEA,gCAIFA,8BAHwBA,4DAMtBA,iBAA0B,QACpBA,6BAAiBA,WCHnB,MAAOC,EAKXC,YACUC,EACAC,EACAC,EACAC,GAHAC,aACAA,cACAA,uBACAA,mBARVA,cAAuB,GACvBA,YAAiB,GACjBA,cAAmB,EAOhB,CAEHC,WACED,KAAKD,YAAYG,UAAUF,KAAKH,OAAOM,IACzC,CAEAC,wBACE,MAAMC,EAASL,KAAKJ,MAAMU,SAASC,cAAcC,IAAI,WAAa,GACnD,KAAXH,GAAiBL,KAAKK,SAAWA,IACnCL,KAAKK,OAASA,EACdL,KAAKS,yBAGP,MAAMC,EAAWV,KAAKJ,MAAMU,SAASC,cAAcC,IAAI,aAAe,GACrD,KAAbE,GAAmBV,KAAKU,WAAaA,IACvCV,KAAKU,SAAWA,EAChBV,KAAKW,qBAET,CAEMF,wBAAqB,qCACzBG,EAAKC,eAAiBD,EAAKd,gBAAgBgB,eAAeF,EAAKP,OAAQ,EAD9C,EAE3B,CAEMM,qBAAkB,qCACtBI,EAAKF,eAAiBE,EAAKjB,gBAAgBkB,qBACzCD,EAAKL,SACL,EAHoB,EAIxB,EAtCWhB,EAAuB,oCAAvBA,GAAuBuB,kDAAvBvB,EAAuB,sBAAvBA,EAAuBwB,sQDTpCzB,uBAUAA,iEATGA,gCAAuB,sfEG1B,MAAM0B,EAAiB,CAAC,CAAEC,KAAM,GAAIC,UAAW3B,IAMzC,MAAO4B,KAA2B,oCAA3BA,EAA2B,EAA3BA,EAA2B,sBAA3BA,MAA2B,0BAH5BC,cAAsBJ,GACtBI,gCCGN,MAAOC,KAAoB,oCAApBA,EAAoB,EAApBA,EAAoB,sBAApBA,MAAoB,0BAFrBC,IAAcH,EAA6BI","names":["i0","ProductListingComponent","constructor","route","router","productsService","cartService","this","ngOnInit","setAtCart","url","ngAfterContentChecked","filter","snapshot","queryParamMap","get","getProductsFromSearch","category","productsByCategory","_this","products","searchProducts","_this2","getProductByCategory","core","selectors","routes","path","component","ProductListingRoutingModule","RouterModule","ProductListingModule","SharedModule","CatalogModule"],"sourceRoot":"webpack:///","sources":["./src/app/features/catalog/pages/product-listing/product-listing.component.html","./src/app/features/catalog/pages/product-listing/product-listing.component.ts","./src/app/features/catalog/pages/product-listing/product-listing-routing.module.ts","./src/app/features/catalog/pages/product-listing/product-listing.module.ts"],"sourcesContent":["<div\r\n  *ngIf=\"products.length; else noProducts\"\r\n  class=\"catalog-products-container\"\r\n>\r\n  <product-card\r\n    *ngFor=\"let product of products\"\r\n    [product]=\"product\"\r\n  ></product-card>\r\n</div>\r\n\r\n<ng-template #noProducts>\r\n  <div class=\"empty-search\">\r\n    <h2>No products found</h2>\r\n  </div>\r\n</ng-template>\r\n","import { Component, SimpleChanges } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CartService, ProductsService } from 'src/app/core/services';\r\nimport { IProduct } from 'src/app/shared/models';\r\n\r\n@Component({\r\n  templateUrl: './product-listing.component.html',\r\n  styleUrls: ['./product-listing.component.scss'],\r\n})\r\nexport class ProductListingComponent {\r\n  products: IProduct[] = [];\r\n  filter: string = '';\r\n  category: string = '';\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private productsService: ProductsService,\r\n    private cartService: CartService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.cartService.setAtCart(this.router.url);\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    const filter = this.route.snapshot.queryParamMap.get('filter') ?? '';\r\n    if (filter !== '' && this.filter !== filter) {\r\n      this.filter = filter;\r\n      this.getProductsFromSearch();\r\n    }\r\n\r\n    const category = this.route.snapshot.queryParamMap.get('category') ?? '';\r\n    if (category !== '' && this.category !== category) {\r\n      this.category = category;\r\n      this.productsByCategory();\r\n    }\r\n  }\r\n\r\n  async getProductsFromSearch() {\r\n    this.products = await this.productsService.searchProducts(this.filter);\r\n  }\r\n\r\n  async productsByCategory() {\r\n    this.products = await this.productsService.getProductByCategory(\r\n      this.category\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ProductListingComponent } from './product-listing.component';\r\n\r\nconst routes: Routes = [{ path: '', component: ProductListingComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProductListingRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { ProductListingRoutingModule } from './product-listing-routing.module';\r\nimport { ProductListingComponent } from './product-listing.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { CatalogModule } from '../../catalog.module';\r\n\r\n@NgModule({\r\n  declarations: [ProductListingComponent],\r\n  imports: [SharedModule, ProductListingRoutingModule, CatalogModule],\r\n})\r\nexport class ProductListingModule {}\r\n"],"x_google_ignoreList":[]}